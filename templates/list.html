<!doctype html>
<html>
<head>
	<title></title>
	<meta charset="UTF-8" />
	<link rel="shortcut icon" href="{{StaticUrl "images/favicon.ico"}}">
	<link href="http://cdn.bootcss.com/highlight.js/8.0/styles/tomorrow-night.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="{{StaticUrl "css/sider.css"}}">
	<style type="text/css">
		.div-wrapper .blog-head{
			height: 60px;
		}
		.div-wrapper .blog-head h2{
			float: left;
			line-height: 45px;
			margin-left: 10px;
			max-width: 480px;
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
		}
		.div-wrapper .blog-head h2 a{
			color: rgba(0,0,0,0.66);
			text-decoration: none;
		}
		.div-wrapper .blog-head h2 a:hover{
			color: rgba(0,0,0,0.88);
		}
		.div-wrapper .blog-actions {
			line-height: 45px;
		}
		.div-wrapper .blog-content {
			min-height: 300px;
			background: #fff;
			background: rgba(255,255,255,0.9);
			background: -webkit-linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,0.9) 50px);
			background: -moz-linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,0.9) 50px);
			background: -ms-linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,0.9) 50px);
			background: -o-linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,0.9) 50px);
			background: linear-gradient(bottom, rgba(255,255,255,0), rgba(255,255,255,0.9) 50px);
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-3">
				{{include "nav.html"}}
			</div>
			<div class="col-md-9">
				<div class="div-wrapper">
					{{range .T.blogs}}
					<div class="blog-item">
						<div class="blog-head clearfix">
							<a href="" alt="irving" class="img-effect">
								<img src="../images/me.png">
								<i class="img-blur"></i>
							</a>
							<h2 title="{{.Title}}"><a href="/blog/detail?id={{.Id}}">{{.Title}}</a></h2>
							<div class="blog-time">{{FormatDate .CreateTime "2006-01-02 15:04:05"}}</div>
							<div class="blog-actions">
								<label><i class="iconfont">&#xe601;</i>  {{.CommentCount}}</label>
								<label><i class="iconfont">&#xe604;</i>  {{.Like}}/{{.Views}}</label>
							</div>
						</div>
						<div class="blog-content">
							<div class="blog-content-b">{{Html .Content}}</div>
							<p class="view-detail text-right"><a href="/blog/detail?id={{.Id}}">阅读全文 >></a></p>
						</div>
					</div>
					{{end}}
					<div id="pagination" class="text-right">
						<ul class="pagination pagination-sm">
 	 						<li><a href="#">&laquo;上一页</a></li>
						 	<li><a href="#">1</a></li>
						  	<li><a href="#">2</a></li>
						  	<li><a href="#">3</a></li>
						  	<li><a href="#">4</a></li>
						  	<li><a href="#">5</a></li>
						  	<li><a href="#">下一页&raquo;</a></li>
						</ul>	
					</div>
				</div>
			</div>
		</div>
	</div>
	{{include "footer.html"}}
	<script src="http://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
	<script type="text/javascript">
		$(function(){
			contentControl();
			$('pre code').each(function(i, e) {hljs.highlightBlock(e)});
			getFocus($(".nav-list .li-art"),true);
		});

		function contentControl(){
			$(".blog-content").each(function(){
				var $this = $(this);
				var $p = $(".blog-content-b", $this).eq(0);
				console.log($p.outerHeight())
			    while ($p.outerHeight() > 300) {
			        $p.text($p.text().replace(/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/, "..."));
			    };
			});
		}
	</script>
</body>
</html>